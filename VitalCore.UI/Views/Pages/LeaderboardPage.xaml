<Page
    x:Class="VitalCore.UI.Views.Pages.LeaderboardPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="using:VitalCore.Core.Services"
    mc:Ignorable="d">

    <Grid Padding="32">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Spacing="8" Margin="0,0,0,32">
            <TextBlock Text="World Leaderboard" Style="{StaticResource TitleLargeTextBlockStyle}" FontWeight="Bold" Foreground="{StaticResource AccentColorNeon}"/>
            <TextBlock Text="Top 10 systems in the VitalCore community" Style="{StaticResource BodyTextBlockStyle}" Opacity="0.6"/>
        </StackPanel>

        <ListView Grid.Row="1" ItemsSource="{x:Bind ViewModel.TopScores, Mode=OneWay}" SelectionMode="None">
            <ListView.Header>
                <Grid Padding="12,0,48,12" BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" BorderThickness="0,0,0,1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="50"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="150"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="#" FontWeight="Bold" Opacity="0.6"/>
                    <TextBlock Grid.Column="1" Text="USER / CPU" FontWeight="Bold" Opacity="0.6"/>
                    <TextBlock Grid.Column="2" Text="CPU SCORE" FontWeight="Bold" Opacity="0.6" HorizontalAlignment="Right"/>
                </Grid>
            </ListView.Header>
            <ListView.ItemTemplate>
                <DataTemplate x:DataType="models:BenchmarkPayload">
                    <Grid Padding="12" Margin="0,4">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="50"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="150"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="1" VerticalAlignment="Center" FontWeight="Bold" Foreground="Cyan"/>
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="{x:Bind UserName}" FontWeight="SemiBold"/>
                            <TextBlock Text="{x:Bind CpuName}" FontSize="12" Opacity="0.6"/>
                        </StackPanel>
                        <TextBlock Grid.Column="2" Text="{x:Bind CpuScore}" VerticalAlignment="Center" HorizontalAlignment="Right" FontWeight="Bold" FontSize="18" Foreground="SpringGreen"/>
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
        
        <ProgressRing x:Name="LoadingRing" Grid.Row="1" IsActive="{x:Bind ViewModel.IsBusy, Mode=OneWay}" VerticalAlignment="Center" HorizontalAlignment="Center"/>
    </Grid>
</Page>